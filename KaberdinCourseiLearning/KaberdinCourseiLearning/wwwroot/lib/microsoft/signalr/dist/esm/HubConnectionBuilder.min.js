function l(n){var t=f[n.toLowerCase()];if(typeof t!="undefined")return t;throw new Error("Unknown log level: "+n);}function a(n){return n.log!==undefined}var i=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},f,e;import{DefaultReconnectPolicy as r}from"./DefaultReconnectPolicy";import{HttpConnection as o}from"./HttpConnection";import{HubConnection as s}from"./HubConnection";import{LogLevel as n}from"./ILogger";import{JsonHubProtocol as h}from"./JsonHubProtocol";import{NullLogger as c}from"./Loggers";import{Arg as t,ConsoleLogger as u}from"./Utils";f={trace:n.Trace,debug:n.Debug,info:n.Information,information:n.Information,warn:n.Warning,warning:n.Warning,error:n.Error,critical:n.Critical,none:n.None};e=function(){function n(){}return n.prototype.configureLogging=function(n){if(t.isRequired(n,"logging"),a(n))this.logger=n;else if(typeof n=="string"){var i=l(n);this.logger=new u(i)}else this.logger=new u(n);return this},n.prototype.withUrl=function(n,r){return t.isRequired(n,"url"),t.isNotEmpty(n,"url"),this.url=n,this.httpConnectionOptions=typeof r=="object"?i({},this.httpConnectionOptions,r):i({},this.httpConnectionOptions,{transport:r}),this},n.prototype.withHubProtocol=function(n){return t.isRequired(n,"protocol"),this.protocol=n,this},n.prototype.withAutomaticReconnect=function(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=n?Array.isArray(n)?new r(n):n:new r,this},n.prototype.build=function(){var n=this.httpConnectionOptions||{},t;if(n.logger===undefined&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");return t=new o(this.url,n),s.create(t,this.logger||c.instance,this.protocol||new h,this.reconnectPolicy)},n}();export{e as HubConnectionBuilder};