"use strict";var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Errors_1=require("./Errors"),FetchHttpClient_1=require("./FetchHttpClient"),HttpClient_1=require("./HttpClient"),Utils_1=require("./Utils"),XhrHttpClient_1=require("./XhrHttpClient"),DefaultHttpClient=function(n){function t(t){var i=n.call(this)||this;if(typeof fetch!="undefined"||Utils_1.Platform.isNode)i.httpClient=new FetchHttpClient_1.FetchHttpClient(t);else if(typeof XMLHttpRequest!="undefined")i.httpClient=new XhrHttpClient_1.XhrHttpClient(t);else throw new Error("No usable HttpClient found.");return i}return __extends(t,n),t.prototype.send=function(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Errors_1.AbortError):n.method?n.url?this.httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(n){return this.httpClient.getCookieString(n)},t}(HttpClient_1.HttpClient);exports.DefaultHttpClient=DefaultHttpClient;